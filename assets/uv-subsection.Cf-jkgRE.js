var t,e;import{ac as s,ad as i,j as o,f as r,w as n,k as u,y as l,x as c,F as a,H as d,G as b,l as h,t as m,i as _,q as f}from"./index-CPBjD6nT.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=v({name:"uv-subsection",mixins:[s,i,{props:{list:{type:Array,default:()=>[]},current:{type:[String,Number],default:0},activeColor:{type:String,default:"#3c9cff"},inactiveColor:{type:String,default:"#303133"},mode:{type:String,default:"button"},fontSize:{type:[String,Number],default:12},bold:{type:Boolean,default:!0},bgColor:{type:String,default:"#eeeeef"},keyName:{type:String,default:"name"},...null==(e=null==(t=uni.$uv)?void 0:t.props)?void 0:e.subsection}}],data:()=>({itemRect:{width:0,height:0}}),watch:{list(t,e){this.init()},current:{immediate:!0,handler(t){}}},computed:{wrapperStyle(){const t={};return"button"===this.mode&&(t.backgroundColor=this.bgColor),t},barStyle(){const t={};return t.width=`${this.itemRect.width}px`,t.height=`${this.itemRect.height}px`,t.transform=`translateX(${this.current*this.itemRect.width}px)`,"subsection"===this.mode&&(t.backgroundColor=this.activeColor),t},itemStyle(t){return t=>{const e={};return"subsection"===this.mode&&(e.borderColor=this.activeColor,e.borderWidth="1px",e.borderStyle="solid"),e}},textStyle(t){return t=>{const e={};return e.fontWeight=this.bold&&this.current===t?"bold":"normal",e.fontSize=this.$uv.addUnit(this.fontSize),"subsection"===this.mode?e.color=this.current===t?"#fff":this.inactiveColor:e.color=this.current===t?this.activeColor:this.inactiveColor,e}}},mounted(){this.init()},methods:{init(){this.$uv.sleep().then((()=>this.getRect()))},getText(t){return"object"==typeof t?t[this.keyName]:t},getRect(){this.$uvGetRect(".uv-subsection__item--0").then((t=>{this.itemRect=t}))},clickHandler(t){this.$emit("change",t)}}},[["render",function(t,e,s,i,v,y){const p=_,g=f;return o(),r(p,{class:l(["uv-subsection",[`uv-subsection--${t.mode}`]]),ref:"uv-subsection",style:c([t.$uv.addStyle(t.customStyle),y.wrapperStyle])},{default:n((()=>[u(p,{class:l(["uv-subsection__bar",["button"===t.mode&&"uv-subsection--button__bar",0===t.current&&"subsection"===t.mode&&"uv-subsection__bar--first",t.current>0&&t.current<t.list.length-1&&"subsection"===t.mode&&"uv-subsection__bar--center",t.current===t.list.length-1&&"subsection"===t.mode&&"uv-subsection__bar--last"]]),ref:"uv-subsection__bar",style:c([y.barStyle])},null,8,["style","class"]),(o(!0),a(d,null,b(t.list,((e,s)=>(o(),r(p,{class:l(["uv-subsection__item",[`uv-subsection__item--${s}`,s<t.list.length-1&&"uv-subsection__item--no-border-right",0===s&&"uv-subsection__item--first",s===t.list.length-1&&"uv-subsection__item--last"]]),ref_for:!0,ref:`uv-subsection__item--${s}`,style:c([y.itemStyle(s)]),onClick:t=>y.clickHandler(s),key:s},{default:n((()=>[u(g,{class:"uv-subsection__item__text",style:c([y.textStyle(s)])},{default:n((()=>[h(m(y.getText(e)),1)])),_:2},1032,["style"])])),_:2},1032,["class","style","onClick"])))),128))])),_:1},8,["class","style"])}],["__scopeId","data-v-1b14b44c"]]);export{y as _};
