import{r as e,b as l,o as a,d as t,e as s,f as u,w as o,i as d,j as c,k as n,l as i,F as r,G as _,H as f,K as v,N as m,t as p}from"./index-CPBjD6nT.js";import{_ as x,a as y}from"./uv-checkbox-group.Cn29mtdQ.js";import{e as h,k as b}from"./bizScheduApi.BbFgL-ID.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-icon.BeAryk0A.js";const k=g({__name:"importDetail",setup(g){e("");l("storage_data").userInfo,e(null);const k=e(),j=e(),w=e("");a((e=>{let l=JSON.parse(e.date);j.value=l.date,w.value=l.sDate;let a=l.name;console.log("sss",j.value,w.value),h({current:1,size:100,name:a,departureDate:j.value}).then((e=>{k.value=e.data.records}))})),e({gc:"",zz:"",zy:"",yq:"",cl:"",sj:"",remark:""}),e([{value:0,text:"篮球"},{value:1,text:"足球"},{value:2,text:"游泳"}]);const z=e([]),C=()=>{k.value.forEach((e=>e.select=!1)),z.value=[],console.log("checkboxValue.value",z.value)},I=()=>{k.value.forEach((e=>e.select=!0)),z.value=[],z.value=k.value.map((e=>e.id)),console.log("checkboxValue.value",z.value)},D=()=>{0!=z.value.length?(v({title:`当前选择的ID是${z.value.join(",")}`,duration:2e3,icon:"none"}),console.log("checkboxValue.value",z.value,j.value),b({ids:z.value,date:w.value}).then((e=>{console.log(e),""==e.msg?(v({title:"导入成功",duration:1e3,icon:"none"}),m({delta:2})):v({title:"请检查重复项",duration:1e3})}))):v({title:"请至少选择一项排班",duration:2e3,icon:"none"})};return(e,l)=>{const a=d,v=t(s("uv-checkbox"),x),m=t(s("uv-checkbox-group"),y);return c(),u(a,{class:"duleMain"},{default:o((()=>[n(a,{class:"dule_content"},{default:o((()=>[n(a,{class:"flexColumn",style:{"margin-left":"5px","margin-top":"15px"}},{default:o((()=>[n(a,{style:{"margin-top":"10px",width:"100%"}},{default:o((()=>[n(a,{class:"table_header"},{default:o((()=>[n(a,{style:{flex:"1"},class:"header_item"},{default:o((()=>[i("组长")])),_:1}),n(a,{style:{flex:"1"},class:"header_item"},{default:o((()=>[i("组员")])),_:1}),n(a,{style:{width:"33%"},class:"header_item"},{default:o((()=>[i("仪器")])),_:1}),n(a,{style:{flex:"1"},class:"header_item"},{default:o((()=>[i("车辆")])),_:1}),n(a,{style:{flex:"1"},class:"header_item"},{default:o((()=>[i("司机")])),_:1})])),_:1}),n(a,{class:"table_body"},{default:o((()=>[(c(!0),r(f,null,_(k.value,((l,t)=>(c(),u(a,{class:"body_item",key:t},{default:o((()=>[n(a,{class:"body_content"},{default:o((()=>[n(a,{class:"body_content_item"},{default:o((()=>[n(a,{class:"item_left"},{default:o((()=>[i(p(l.name),1)])),_:2},1024),n(a,{class:"item_right"},{default:o((()=>[n(m,null,{default:o((()=>[n(v,{checked:l.select,onChange:e=>((e,l)=>{l.select=!0;let a=z.value.findIndex((e=>e==l.id));-1!=a?z.value.splice(a,1):z.value.push(l.id),console.log("checkboxValue.value",z.value)})(0,l)},null,8,["checked","onChange"])])),_:2},1024)])),_:2},1024)])),_:2},1024),n(a,{class:"body_item_content"},{default:o((()=>[n(a,{style:{flex:"1"},class:"content_item"},{default:o((()=>[i(p(l.leader),1)])),_:2},1024),n(a,{style:{display:"flex",flex:"1","align-items":"center","justify-content":"center"},class:"content_item"},{default:o((()=>["[]"==l.members||null==l.members?(c(),u(a,{key:0})):(c(),u(a,{key:1,style:{display:"flex","flex-direction":"column",padding:"5px 0"}},{default:o((()=>{var e;return[(c(!0),r(f,null,_(null==(e=l.members)?void 0:e.split(","),((e,l)=>(c(),u(a,{key:l},{default:o((()=>[i(p(e),1)])),_:2},1024)))),128))]})),_:2},1024))])),_:2},1024),n(a,{style:{width:"33%","border-right":"1px solid","font-size":"14px"}},{default:o((()=>[n(a,{style:{}},{default:o((()=>["[]"==l.device||null==l.device?(c(),r("p",{key:0})):(c(),u(a,{key:1},{default:o((()=>{var a;return[(c(!0),r(f,null,_(null==(a=l.device)?void 0:a.split(","),((a,t)=>{var s;return c(),r("p",{key:e.sindex,style:{"word-wrap":"break-word"}},p(a)+" "+p(1==(null==(s=l.device)?void 0:s.length)?"":"、"),1)})),128))]})),_:2},1024))])),_:2},1024)])),_:2},1024),n(a,{style:{flex:"1"},class:"content_item"},{default:o((()=>[i(p(l.vehicle),1)])),_:2},1024),n(a,{style:{flex:"1"},class:"content_item"},{default:o((()=>[i(p(l.driver),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1}),n(a,{class:"tab_bottom"},{default:o((()=>[n(a,{class:"bottoms",style:{flex:"1",background:"#73d1c4"},onClick:I},{default:o((()=>[i("全选")])),_:1}),n(a,{class:"bottoms",style:{flex:"1",background:"#73d1c4"},onClick:C},{default:o((()=>[i("取消全选")])),_:1}),n(a,{class:"bottoms",style:{flex:"2","background-color":"#439ed5"},onClick:D},{default:o((()=>[i("加入列表")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-1bb4976a"]]);export{k as default};
