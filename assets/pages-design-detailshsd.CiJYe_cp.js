import{r as s,o as e,d as a,e as t,f as l,w as o,i as u,j as i,k as n,l as c,t as r,V as d,O as f,s as p,W as m,aJ as v,N as _,A as g}from"./index-CPBjD6nT.js";import{_ as w}from"./uv-button.DCe9cTzF.js";import{_ as h}from"./uv-icon.BeAryk0A.js";import{_ as j}from"./uv-picker.CDlyhjqn.js";import{s as b,b as I,j as N}from"./bizDesign.CXIgWGo9.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-loading-icon.Bz59kkyK.js";import"./uv-toolbar.BkXgWcPp.js";import"./uv-popup.RS38a-ll.js";import"./uv-transition.57FirIXI.js";const k=x({__name:"detailshsd",setup(x){const k=s({flw4Number:"",flw1Name:"",flw1Level:""}),y=s(),J=s(),z=s(),L=s([]);e((s=>{console.log("e",s),y.value=JSON.parse(s.id),console.log("sendId.value",y.value),b().then((s=>{console.log(s,"sdsad"),L.value=[s.data]})),I({id:y.value.processInstanceId}).then((s=>{z.value=s.data,k.value=JSON.parse(s.data.initiatorDataJson),console.log("datas.value",k.value)}))}));const C=()=>{d({title:"加载中"}),f({url:`${p.getters.allEnv[p.getters.envKey].baseUrl}/biz/projectflw/exportwts?actId=${y.value.processInstanceId}`,success:s=>{m(),v({filePath:s.tempFilePath,fileType:"pdf",showMenu:!0,success:function(s){}})}})},O=s=>{console.log(s),N({attachmentList:[],id:y.value.id,userId:s.value[0].id,userName:s.value[0].name}).then((s=>{console.log(s),200==s.code&&setTimeout((()=>{_()}),500)}))},P=()=>{g({url:"/pages/design/designbookshsd?id="+JSON.stringify(y.value)})};return(s,e)=>{const d=a(t("uv-button"),w),f=u,p=a(t("uv-icon"),h),m=a(t("uv-picker"),j);return i(),l(f,{class:"details"},{default:o((()=>[n(f,{class:"title_class"},{default:o((()=>[c(" 项目基本信息"),n(f,{style:{position:"absolute",right:"45px",width:"80px",top:"6px"}},{default:o((()=>[n(d,{size:"normal",onClick:e[0]||(e[0]=s=>J.value.open())},{default:o((()=>[c("转办")])),_:1})])),_:1})])),_:1}),n(f,{class:"dataList"},{default:o((()=>[n(f,{class:"listItem"},{default:o((()=>[n(f,{class:"titles"},{default:o((()=>[c("项目编号: ")])),_:1}),n(f,{class:"contents"},{default:o((()=>[c(r(k.value.flw4Number||""),1)])),_:1})])),_:1}),n(f,{class:"listItem"},{default:o((()=>[n(f,{class:"titles"},{default:o((()=>[c("项目名称:")])),_:1}),n(f,{class:"contents"},{default:o((()=>[c(r(k.value.flw1Name||""),1)])),_:1})])),_:1}),n(f,{class:"listItem"},{default:o((()=>[n(f,{class:"titles"},{default:o((()=>[c("工程等级:")])),_:1}),n(f,{class:"contents"},{default:o((()=>[c(r(k.value.flw1Level||""),1)])),_:1})])),_:1})])),_:1}),n(f,{class:"title_class"},{default:o((()=>[c(" 项目委托书")])),_:1}),n(f,{class:"wts"},{default:o((()=>[n(p,{name:"file-text",size:"70px",color:"006266",onClick:C})])),_:1}),n(f,{class:"title_class"},{default:o((()=>[c(" 项目设计书（设计书撰写）")])),_:1}),n(f,{class:"wts"},{default:o((()=>[n(p,{name:"empty-order",size:"70px",color:"error",onClick:P})])),_:1}),n(m,{ref_key:"showPersonRef",ref:J,columns:L.value,keyName:"name",onConfirm:O},null,8,["columns"])])),_:1})}}},[["__scopeId","data-v-8da6bc9c"]]);export{k as default};
