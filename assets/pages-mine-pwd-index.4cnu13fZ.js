import{r as e,d as a,e as s,f as o,w as r,i as l,j as t,k as d,l as u,b4 as n,J as i,N as p}from"./index-CPBjD6nT.js";import{_ as m}from"./uv-input.D6qbiBl7.js";import{_ as w,a as c}from"./uv-form.D7lRPiGH.js";import{_ as f}from"./tui-button.up_-5W2f.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uv-icon.BeAryk0A.js";import"./uv-transition.57FirIXI.js";import"./uv-line.DVWmxLog.js";/* empty css                                                                   */const v=g({__name:"index",setup(g){const v=e(),_=e({oldPassword:"",newPassword:"",confirmPassword:""}),P={oldPassword:[{type:"string",required:!0,message:"旧密码不能为空",trigger:["blur","change"]}],newPassword:[{type:"string",required:!0,message:"新密码不能为空",trigger:["blur","change"]},{minLength:6,maxLength:20,message:"长度在 6 到 20 个字符"}],confirmPassword:[{type:"string",required:!0,message:"确认密码不能为空",trigger:["blur","change"]},{validator:(e,a,s)=>_.value.newPassword===a,message:"两次输入的密码不一致",trigger:["blur","change"]}]},h=()=>{v.value.validate().then((e=>{n({password:_.value.oldPassword,newPassword:_.value.newPassword}).then((e=>{i({title:"提示",content:"修改成功",showCancel:!1,success:e=>{e.confirm&&p()}})}))}))};return(e,n)=>{const i=a(s("uv-input"),m),p=a(s("uv-form-item"),w),g=a(s("tui-button"),f),b=a(s("uv-form"),c),y=l;return t(),o(y,{class:"pwd-container snowy-shadow"},{default:r((()=>[d(b,{ref_key:"formRef",ref:v,model:_.value,rules:P,"label-position":"top",labelWidth:"auto",labelStyle:{marginBottom:"25rpx",fontSize:"27rpx",color:"#606266"}},{default:r((()=>[d(p,{prop:"oldPassword",label:"旧密码",required:""},{default:r((()=>[d(i,{type:"password",modelValue:_.value.oldPassword,"onUpdate:modelValue":n[0]||(n[0]=e=>_.value.oldPassword=e),placeholder:"请输入旧密码"},null,8,["modelValue"])])),_:1}),d(p,{prop:"newPassword",label:"新密码",required:""},{default:r((()=>[d(i,{type:"password",modelValue:_.value.newPassword,"onUpdate:modelValue":n[1]||(n[1]=e=>_.value.newPassword=e),placeholder:"请输入新密码"},null,8,["modelValue"])])),_:1}),d(p,{prop:"confirmPassword",label:"确认密码",required:""},{default:r((()=>[d(i,{type:"password",modelValue:_.value.confirmPassword,"onUpdate:modelValue":n[2]||(n[2]=e=>_.value.confirmPassword=e),placeholder:"请确认新密码"},null,8,["modelValue"])])),_:1}),d(g,{margin:"50rpx 0",preventClick:!0,shadow:!0,onClick:h},{default:r((()=>[u("提交")])),_:1})])),_:1},8,["model"])])),_:1})}}},[["__scopeId","data-v-f8a9b064"]]);export{v as default};
